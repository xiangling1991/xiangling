# c++返回效率

比较以下两句的不同
1. 
```
return integer(left.i + right.i);
```
看起来像是一个"对一个构造函数的调用",但其实并非如此.这是临时对象语法,
它是这样陈述的:"创建一个临时对象并返回它".

2. 
```
integer tmp(left.i + right.i);
return tmp;
```
这种写法将会发生三件事
>
 - 创建tmp对象,调用构造函数
 - 调用拷贝构造函数把tmp拷贝到返回值外部存储单元
 - 当tmp在作用域的结尾时调用析构函数
 
 3. 
 比较两种方式,对于"返回临时对象",编译器明白对创建的对象没有其他需求,只是
 返回它,不会调用析构函数和拷贝构造函数,仅调用构造函数.
 
 
 note: 在g++5.3.0版本的编译器上,两者并没有区别,难道是编译器优化了??